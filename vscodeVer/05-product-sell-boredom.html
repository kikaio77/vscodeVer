<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/a49c7f2a3e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="fullpage.min.css">
    <link rel="stylesheet" href="05-product-sell-boredom.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope&family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <script src="fullpage.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <title>Cafe Onion 카페 어니언</title>
</head>

<body>
    <div id="Container">

        <nav>
            <ul class="nav_menus">
                <li><a href="01-mainIndex.html" class="main_logo"><img src="images/logo.svg" width="120px" height="28px"
                            alt=""></a>
                </li>
                <li><a href="02-about.html">about</a></li>
                <li><a href="03-news.html">news</a></li>
                <li class="dropmenu item1"><a href="04-store.html">store</a>

                    <ul class="submenu1">
                        <li><a href="#">coffee</a></li>
                        <li><a href="#">home brew</a></li>
                        <li><a href="#">apparel</a></li>
                        <li><a href="#">goods</a></li>

                    </ul>
                </li>
                <li><a href="#">COFFEE</a></li>
                <li><a href="#">contact</a></li>
                <li class="dropmenu item2"><a href="#">private</a>
                    <ul class="submenu2">
                        <li><a href="#">개인결제창</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav_icons">

                <li><a class="loginbtn" href="#"><i class="xi-log-in"></i></a></li>
                <li><a href="#"><i class="xi-user-o"></i></a></li>
                <li><a href="#"><i class="xi-briefcase"></i></a></li>
                <li><a href="#"><i class="xi-search"></i></a></li>

            </ul>
        </nav>
        <div class="Contents">
            <div class="leftCon">
                <img src="images/sell/blend-boredom/a.png" width="" height="" alt="">
            </div>
            <div class="rightCon">
                <ul>
                    <li>
                        <p class="pdtTitle">블렌드 '보어돔'</p>
                    </li>
                    <li><span class="pdtFeature"><br>
                            Kenya 37.5%<br>
                            Ethiopia 37.5%<br>
                            Colombia 25%<br>
                            <br>
                            Tasting Note - Brightly, Sweet, Complexity, Long After,<br>Well
                            Body, Lingering, Orange, Grapefruit, Blackcurrant<br>
                            Roasting Grade - Medium<br>
                            Process - Washed<br>

                        </span></li>
                    <br>
                    <li><span class="pdtPrice"></span><span>원</span></li>
                    <br>
                    <li>
                        <ul class="pdtSize">
                            <li><span class="pdtSizeTitle">Package Size</span> </li>
                            <li>
                                <div class="selectCon item1">
                                    <select name="size" id="size">
                                        <option value="default" selected> -[필수] 옵션을 선택해 주세요 -</option>
                                        <option value="" disabled> ---------------</option>
                                        <option value="t">225g</option>
                                    </select><span><i class="xi-angle-down-min"></i></span></div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <ul class="pdtGrind">
                            <li><span class="grindTitle">Grind</span></li>
                            <li>
                                <div class="selectCon item2"><select name="grind" id="grind">
                                        <option value="default" selected> -[필수] 옵션을 선택해 주세요 -</option>
                                        <option value="" disabled> ---------------</option>
                                        <option value="normal">흘빈(원두) - 분쇄안함</option>
                                        <option value="es">에스프레소</option>
                                        <option value="mp">모카포트</option>
                                        <option value="fd">필터(드립)</option>
                                        <option value="fp">프렌치프레스</option>
                                    </select><span><i class="xi-angle-down-min"></i></span></div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="selPdt">
                    </li>
                    <li>TOTAL : <span class="total">0</span>원 (<span class="num">0</span>개)</li>
                    <li>
                        <ul class="buyandCart">
                            <li><a id="BUYNOW" href="#">BUY NOW</a></li>
                            <li><a id="ADDCART" href="#">ADD CART</a></li>
                        </ul>
                    </li>
                    <div class="npayBox">
                        <div class="itemTextLink">
                            <span class="itemText"></span>

                        </div>
                        <a class="itemBuyLinkLink"
                            href="https://nid.naver.com/nidlogin.login?svctype=1&url=https%3A%2F%2Forder.pay.naver.com%2Fcustomer%2Forder.nhn%3FORDER_ID%3D956814252%26SHOP_ID%3Dnp_yajyl834770%26TOTAL_PRICE%3D26000"><span
                                class="itemBuyLink"></span></a>
                        <a class="itemZzimLink" href="#"><span class="itemZzim"></span></a>
                    </div>
                    <div class="npayEvent">
                        <div><strong>이벤트</strong><a
                                href="https://nid.naver.com/nidlogin.login?svctype=1&url=https%3A%2F%2Forder.pay.naver.com%2Fcustomer%2Forder.nhn%3FORDER_ID%3D956814252%26SHOP_ID%3Dnp_yajyl834770%26TOTAL_PRICE%3D26000">네이버페이</a>
                        </div>
                        <div class="spanbox"><span class="npayPrev"></span><span class="npayNext"></span></div>
                    </div>
                    <div class="iframeCon">
                        <iframe
                            src="https://player.vimeo.com/video/482901744?h=1bfd285321&autoplay=1&title=0&byline=0&portrait=0"
                            width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture"
                            allowfullscreen></iframe>
                    </div>
                    </li>

                </ul>
            </div>


        



        </div>
       
        <footer>

        <div class="footerinner">
            <ul class="footer top">
                <li><a href="#">ABOUT US</a></li>
                <li><a href="#">CUSTOMER CARE</a></li>
            </ul>
            <ul class="footer bottom">
                <li>Company. 어니언컴퍼니 Owner. 유주형 Tel. 02-1644-1941 E-mail. onion@onionkr.com Address. 04797 서울특별시
                    성동구 아차산로9길 8 (성수동2가) 1,2층</li>
                <li>Business License. 4788700882 Mail Order License. 제2020-서울성동-00970호</li>
                <li>Copyright ©Cafe Onion 카페 어니언 All rights reserved.</li>
            </ul>

            <a href="https://www.instagram.com/cafe.onion/">INSTARGRAM</a>
        </div>
    </div>
    </div>
</footer>

    </div>

    <script>
        //제품 가격 SPAN에 출력
        let price = 23000;
      
        let addPdtCon=[];
        



        const viewPrice = price.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");

        document.querySelector(".pdtPrice").innerHTML = viewPrice;

     

        document.getElementById("grind").addEventListener("change", function () {

           




           



           
           
            const opt = document.getElementById("grind");
            const newp = document.createElement("p");
            const newspan = document.createElement("span");
            const newspan2 = document.createElement("span");
            const newspan3 = document.createElement("span");
            const newspan4 = document.createElement("span");
            const newimg = document.createElement("img");
            const newimg2 = document.createElement("img");
            const newimg3 = document.createElement("img");
            const closeBtn= document.createElement("span");
            const newPdtTtile = document.querySelector(".pdtTitle").innerHTML;
            const newdiv = document.createElement("div");
            const newdiv2 = document.createElement("div");
            const container = document.createElement("div");
            const newNumInput = document.createElement("input");

         
           
          
       
            newp.append(newPdtTtile);

          
           

            for (const item of opt) {
                if (item.selected) {
                    newspan.innerHTML = "-" + item.innerHTML;

                    
                }
            }

            newdiv.append(newp);
            newdiv.append(newspan);

            newdiv.classList.add("purchasePdtTitleBox");

            container.append(newdiv);

           
            newNumInput.classList.add("quantity");
          
          
            newspan2.append(newimg);
            newspan2.append(newimg2);
               
            newspan2.classList.add("updwnCon");

 
            newdiv2.append(newNumInput);
            newdiv2.append(newspan2);
            newdiv2.append(newimg3);
            
          
            
           
            newdiv2.classList.add("remoteCtrl");
            newimg.classList.add("qUpBtn");
            newimg2.classList.add("qdwnBtn");
            newimg3.classList.add("delBtn");
               
            
            newimg.setAttribute("src","images/btn/btn_count_up.gif");
            newimg2.setAttribute("src","images/btn/btn_count_down.gif"); 
            newimg3.setAttribute("src","images/btn/btn_price_delete.gif");
            

    
         

            
            container.append(newdiv2);
            container.classList.add("purchaseQuantityBox");
            container.setAttribute("data-id", uuidv4());

          
           
            // arrayId = uuidv4();

            addPdtCon.push({id:container.dataset.id,num:1});

            newNumInput.value=1;
          
            
           

            
            document.querySelector(".selPdt").append(container);
           
           
            newimg.addEventListener("click",function(){
                  
                for(let i=0; i<addPdtCon.length;i++){
                 if(this.parentElement.parentElement.parentElement.dataset.id==addPdtCon[i].id){

                    
                    addPdtCon[i].num++;
                    newNumInput.value=addPdtCon[i].num;
                    console.log(addPdtCon[i]);
                    document.querySelector(".num").innerHTML=calQuantity();
                    document.querySelector(".total").innerHTML=calQuantity()*price;
                 }
               
                }
                            
                

               
                 
              
               
               
            //    if(arrayId == addPdtCon[arrayId].id){
            //     addPdtCon[arrayId].num++;
            //     quantity=addPdtCon[arrayId].num;
               
               
                
            // }
                   
                 

               
                  
              
               
                    
            // document.querySelector(".num").innerHTML=calQuantity()
            //     document.querySelector(".total").innerHTML=calTotal;
                
            });


            newimg2.addEventListener("click",function(){
                  
                for(let i=0; i<addPdtCon.length;i++){
                 if( this.parentElement.parentElement.parentElement.dataset.id==addPdtCon[i].id){

                     if(addPdtCon[i].num<1){
                         alert("최소 구매수량은 1개입니다.");
                         addPdtCon[i].num=2;
                     }
                    addPdtCon[i].num--;
                    newNumInput.value=addPdtCon[i].num;
                    document.querySelector(".num").innerHTML=calQuantity();
                    document.querySelector(".total").innerHTML=calQuantity()*price;
                 }
               
                }
                            
             
                 
                  
              // }
                     
                   
  
                 

                
                  
                 
                  
              });

          
            

          
           
           
          document.querySelector(".delBtn").addEventListener("click",function(){
            
            for(let i=0; i<addPdtCon.length;i++){   
                if(this.parentElement.parentElement.dataset.id == addPdtCon[i].id ){
                      
                    addPdtCon[i].num=0;

                    document.querySelector(".num").innerHTML=calQuantity();
                    document.querySelector(".total").innerHTML=calQuantity()*price;

                }


                }
           this.parentElement.parentElement.remove();
          });

           
           
               

             
              

            
           
        

        

});


     

       

          








           
        $(window).scroll(function () {
            if ($(this).scrollTop() > 50) {
                $(".Contents.rightCon").addClass("on");

            } else {
                $(".Contents.rightCon").removeClass("on");
            }
        });

        $(function () {
            let selectValue = $("")
            $("select").mousedown(function () {
                $(this).parent().addClass("on");

            });

            $("select").mouseup(function () {
                $(this).parent().removeClass("on");
            });
           

            $("#BUYNOW").click(function (e) {
                e.preventDefault();
               

                if (($("#size").val() == "default") || ($("#grind").val() == "default")) {

                    alert("필수 옵션을 선택해주세요.");


                };

             
            });

            $("#Container>nav>.nav_menus li").hover(function () {
                    $(this).children("ul").stop().slideToggle(500);
                },
                function () {
                    $(this).children("ul").css("display", "none");
                });




       

        });

        function calQuantity(){
            let sum=0;
            for(let i=0; i<addPdtCon.length;i++){
                
                sum+=addPdtCon[i].num;

                
            }
            return sum;

            

        }

    //     function calTotal(){
    //         let sum=0;
    //             let total=0;
    //         for(let i=0; i<addPdtCon.length;i++){
              
    //             sum+=addPdtCon[i].num;
    //             total=sum*price;
              
    //     }
    //     return total;
    // }

       

        function uuidv4() {
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
    return v.toString(16);
  });
}
        
        
    </script>
</body>

</html>